# BlockchainApp
### 블록체인 지갑 APP

1. 휴대폰 번호로 계좌 생성

2. 잔액 충전 기능
3. 계좌 이체 기능
4. 거래 내역 보기
5. 블록체인 기능
 5-1. 서버에서 10분간의 거래데이터를 노드로 보낸다 (보내고 삭제 - 거래내역의 테이블과는 다른 테이블)
 5-2. 노드는 정보들을 블록화시켜서 서버단으로 보낸다 
 5-3. 서버는 가장 먼저 온 블록을 db에 저장 
 5-4. 서버는 해쉬경쟁에서 이긴 노드에게 코인을 준다

```sql
CREATE TABLE ACCOUNT 
(
  ID NUMBER NOT NULL 
, NAME VARCHAR2(20 BYTE) NOT NULL 
, PWD VARCHAR2(20 BYTE) NOT NULL 
, PHONE VARCHAR2(20 BYTE) NOT NULL 
, AMOUNT NUMBER NOT NULL 
, CONSTRAINT ACCOUNT_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ACCOUNT_PK ON ACCOUNT (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NO INMEMORY 
NOPARALLEL;
```

```sql
CREATE TABLE BLOCKLIST 
(
  ID NUMBER NOT NULL 
, HASH VARCHAR2(100 BYTE) NOT NULL 
, PREVIOUSHASH VARCHAR2(100 BYTE) NOT NULL 
, DATA VARCHAR2(1000 BYTE) NOT NULL 
, TIMESTAMP VARCHAR2(20 BYTE) NOT NULL 
, NONCE NUMBER NOT NULL 
, NODENUM NUMBER NOT NULL 
, CONSTRAINT BLOCKLIST_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX BLOCKLIST_PK ON BLOCKLIST (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NO INMEMORY 
NOPARALLEL;
```

```spl
CREATE TABLE BLOCKMEMPOOL 
(
  ID NUMBER NOT NULL 
, RECEIVER VARCHAR2(20 BYTE) NOT NULL 
, SENDAMOUNT NUMBER NOT NULL 
, SENDER VARCHAR2(20 BYTE) NOT NULL 
, HASH VARCHAR2(100 BYTE) NOT NULL 
, CREATEDATE DATE NOT NULL 
, CONSTRAINT BLOCKMEMPOOL_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX BLOCKMEMPOOL_PK ON BLOCKMEMPOOL (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NO INMEMORY 
NOPARALLEL;
```

```sql
CREATE TABLE BLOCKMEMPOOL 
(
  ID NUMBER NOT NULL 
, RECEIVER VARCHAR2(20 BYTE) NOT NULL 
, SENDAMOUNT NUMBER NOT NULL 
, SENDER VARCHAR2(20 BYTE) NOT NULL 
, HASH VARCHAR2(100 BYTE) NOT NULL 
, CREATEDATE DATE NOT NULL 
, CONSTRAINT BLOCKMEMPOOL_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX BLOCKMEMPOOL_PK ON BLOCKMEMPOOL (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NO INMEMORY 
NOPARALLEL;
```

```sql
CREATE TABLE MEMPOOL 
(
  ID NUMBER NOT NULL 
, RECEIVER VARCHAR2(20 BYTE) NOT NULL 
, SENDAMOUNT NUMBER NOT NULL 
, SENDER VARCHAR2(20 BYTE) NOT NULL 
, HASH VARCHAR2(100 BYTE) NOT NULL 
, CREATEDATE DATE NOT NULL 
, CONSTRAINT ACCOUNTLOG_PK PRIMARY KEY 
  (
    ID 
  )
  USING INDEX 
  (
      CREATE UNIQUE INDEX ACCOUNTLOG_PK ON MEMPOOL (ID ASC) 
      LOGGING 
      TABLESPACE USERS 
      PCTFREE 10 
      INITRANS 2 
      STORAGE 
      ( 
        INITIAL 65536 
        NEXT 1048576 
        MINEXTENTS 1 
        MAXEXTENTS UNLIMITED 
        BUFFER_POOL DEFAULT 
      ) 
      NOPARALLEL 
  )
  ENABLE 
) 
LOGGING 
TABLESPACE USERS 
PCTFREE 10 
INITRANS 1 
STORAGE 
( 
  INITIAL 65536 
  NEXT 1048576 
  MINEXTENTS 1 
  MAXEXTENTS UNLIMITED 
  BUFFER_POOL DEFAULT 
) 
NOCOMPRESS 
NO INMEMORY 
NOPARALLEL;
```

```sql
CREATE SEQUENCE ACCOUNT_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;
CREATE SEQUENCE ACCOUNTLOG_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;
CREATE SEQUENCE BLOCKLIST_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;
CREATE SEQUENCE BLOCKMEMPOOL_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;
CREATE SEQUENCE MEMPOOL_SEQ INCREMENT BY 1 MAXVALUE 9999999999999999999999999999 MINVALUE 1 CACHE 20;
```
